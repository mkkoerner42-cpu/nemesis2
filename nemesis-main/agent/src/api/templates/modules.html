<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Nemesis Â· Module</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<header class="header">
  <div class="brand"><div class="logo"></div><div><h1>Nemesis</h1><small>Module Overview</small></div></div>
  <nav class="nav">
    <a href="/">Dashboard</a>
    <a class="active" href="/modules">Module</a>
    <a href="/workers">Workers</a>
    <a href="/docs" target="_blank">API</a>
  </nav>
</header>
<main class="container">
  <section class="card">
    <div class="card-title">Quick Stats</div>
    <div class="stats">
      <div class="stat"><span class="stat-num">{{metrics.running_scans}}</span><span class="stat-label">laufende Scans</span></div>
      <div class="stat"><span class="stat-num">{{metrics.running_workers}}</span><span class="stat-label">laufende Worker</span></div>
      <div class="stat stat-wide">
        <div class="stat-label">Forschungsfortschritt</div>
        <div class="progress"><div class="bar" style="width: {{metrics.progress.percent}}%"></div></div>
        <small>{{metrics.progress.scanned}} / {{metrics.progress.total}} Targets ({{metrics.progress.percent}}%)</small>
      </div>
    </div>
  </section>

  <section class="card">
    <div class="card-title">Module Status</div>
    <table class="table">
      <tr><th>Modul</th><th>Status</th><th>Message</th><th>Updated</th></tr>
      {% for m in mods %}
      <tr>
        <td>{{m[0]}}</td>
        <td><span class="light {{ 'green' if m[1]=='ok' else 'yellow' if m[1]=='warn' else 'red' }}"></span> {{m[1]}}</td>
        <td>{{m[2] or ''}}</td>
        <td>{{m[3]}}</td>
      </tr>
      {% endfor %}
    </table>
  </section>
</main>
</body>
</html>
